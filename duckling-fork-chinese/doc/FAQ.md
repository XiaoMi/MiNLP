# FAQ

在推广过程中发现了一些问题，记录下来供来人参考。

1. 在下标敏感的应用，比如需要高亮出部分文本是时间，不要进行导致文本增减的预处理。字符增减会导致下标不匹配，也可能识别出奇怪的东西；

2. 确定使用的范围，并根据范围裁剪
   
   - 比如在日历场景下做自动时间识别，然后做时间自动填充。这里就需要考虑场景的问题：
     1. 过去的时间不需要
     2. 年/月级别的时间不需要
     3. 模糊的时间下午、下午之类的需要排除，等等

3. 识别的串不能太长，如果有明显的分割符可以切割后依次识别。PCFG的方案会穷举可能性，太长了内存使用上可能会爆炸，速度也得不到保证；

4. 如何精简依赖（比如上安卓），如果只使用到了`Time`和`Numeral`，可以去掉如下依赖
   
   ```scala
       "com.vdurmont" % "emoji-java",
       "commons-io" % "commons-io",
       "org.apache.commons" % "commons-text",
       "org.apache.commons" % "commons-lang3",
       "org.json4s" %% "json4s-jackson"
   ```